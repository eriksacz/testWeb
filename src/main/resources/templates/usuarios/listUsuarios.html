<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>

<body>

	<header th:replace="layout/layout :: header"></header>

	<div class="row">
		<p>
	</div>


	<main role="main">
		<hr>
		<div class="container">
			<div class="row mt-2">
			<div class="col-2"></div>
			
				<div class="col-8">

					<div class="card bg-light border-secondary">

						<div class="card-header text-dark text-center" id="card-titulo"
							th:text="'Listado de Usuarios'"></div>



						<div class="card-body">
							<hr>
							<!--    <div th:if="${msg != null}" class='alert alert-success' th:text="${msg}" role='alert'></div>   -->
							<table class="table table-hover">
								<thead class="thead-light">
									<tr>

										<th scope="col">Usuario</th>
										<th scope="col">Estado</th>
										<th scope="col">Operaciones</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="usuario : ${usuarios}">

										<td th:text="${usuario.username}"></td>

										<td
											th:text="${usuario.estatus == 1 ? 'Activo' : 'Bloqueado' }"></td>

						<td>
										
										<a	th:href="@{/usuarios/delete/{id} (id=${usuario.id}) }"
											onclick="return confirm('¿Estas seguro?')"
											class="btn btn-success btn-sm" role="button" title="Eliminar">
											<i class="fas fa-trash" aria-hidden="true"></i>
										</a> 
												
											<span th:switch="${usuario.estatus}"> 
<a th:case="'1'" th:href="@{/usuarios/lock/{id} (id=${usuario.id}) }" onclick="return confirm('¿Quiere bloquear el acceso al usuario?')"
				class="btn btn-success btn-sm" role="button" title="Bloquear el acceso al sistema para este usuario.">
				<i class="fas fa-lock" aria-hidden="true"></i>
		</a> 
	<a th:case="'0'" th:href="@{/usuarios/unlock/{id} (id=${usuario.id}) }" onclick="return confirm('¿Desea desbloquear el usuario?')"
			class="btn btn-success btn-sm" role="button" title="Permitir el acceso al sistema a este usuario.">
			    <i class="fas fa-unlock" aria-hidden="true"></i>
    </a>
										</span>
						
						</td>
									</tr>

								</tbody>
							</table>

						</div>
					</div>
				</div>
				
				<div class="col-2"></div>
				
			</div>


		</div>
		<!-- /container -->

	</main>


	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

	<footer th:replace="layout/layout :: footer"></footer>

</body>
</html>
